(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,n){},120:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(42),i=t.n(r),c=(t(55),t(43)),l=t(44),s=t(45),u=t(49),m=t(46),f=t(48),d=t(2);t(56);function h(e){return o.a.createElement("div",{className:"leftGutter"},e.children)}function v(e){return o.a.createElement("div",{className:"rightGutter"},e.children)}t(57);var p=function(e){return o.a.createElement("div",{className:"formWrapper"},e.children)};t(58);function g(e){return o.a.createElement("input",Object.assign({className:"input"},e))}function E(e){return o.a.createElement("button",Object.assign({},e,{className:"submitButton"}),e.children)}t(59);var k=function(e){return o.a.createElement("div",{className:"searchedBookWrapper"},e.children)},b=(t(60),t(11)),I=t.n(b),N=function(e){return o.a.createElement("div",{className:"bookItem"},o.a.createElement("h3",{className:"title","data-id":e.bookId},e.title),o.a.createElement(I.a,{rating:e.rating,starRatedColor:"#A6B3EA",numberOfStars:6,name:"rating",starDimension:"20px",starSpacing:"2px"}),o.a.createElement("div",null,o.a.createElement("a",{href:e.infoLink},o.a.createElement("img",{className:"bookImage",alt:"no book cover found",src:e.imageLink})),o.a.createElement("p",{className:"description"},o.a.createElement("a",{href:e.infoLink},"More information"))),o.a.createElement("p",{className:"author"},"By\xa0",e.authors),o.a.createElement("p",{className:"description"},e.description),o.a.createElement("button",{className:"saveBook",onClick:function(){e.handleSaveEvent(e.bookId)}},"Save"))};t(66);var w=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"savedBookWrapper"}," ",e.children))},B=(t(67),function(e){return o.a.createElement("div",{className:"bookItem"},o.a.createElement("h3",{className:"title","data-id":e.bookId,isbn:e.isbn},e.title),o.a.createElement(I.a,{rating:e.rating,starRatedColor:"#A6B3EA",numberOfStars:6,name:"rating",starDimension:"20px",starSpacing:"2px"}),o.a.createElement("div",null,o.a.createElement("a",{href:e.infoLink},o.a.createElement("img",{className:"bookImage",alt:"no book cover found",src:e.imageLink})),o.a.createElement("p",{className:"description"},o.a.createElement("a",{href:e.infoLink},"More information"))),o.a.createElement("p",{className:"author"},"By\xa0",e.authors),o.a.createElement("p",{className:"description"},e.description),o.a.createElement("button",{className:"buttonDelete",onClick:function(){e.handleDelete(e.bookId)}},"Remove"))}),y=t(5),L=t.n(y),S=function(){return L.a.get("/api/books")},j=function(e){return L.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"&maxResults=10"))},O=function(e){return L.a.delete("/api/books/"+e)},D=function(e){return L.a.post("/api/books",e)},x=t(4),C=t.n(x),R={resetBooks:function(e){S().then(function(n){return e.setState({savedBooks:n.data,searchedBooks:[],searchTitle:""})}).catch(function(e){return console.log(e)})},loadBooks:function(e){S().then(function(n){return e.setState({savedBooks:n.data})}).catch(function(e){return console.log(e)})},handleSearchEvent:function(e){var n=e.state.searchTitle;j(n).then(function(n){var t=[];n.data.items.forEach(function(e){t.push(e)}),e.setState({searchedBooks:t})}).catch(function(e){return console.log(e)})},handleSaveEvent:function(e,n){var t;n.state.searchedBooks.filter(function(n){return n.id===e?t=n:console.log("hey, couldn't find ID")});var a={bookId:t.id,title:t.volumeInfo.title,authors:t.volumeInfo.authors?t.volumeInfo.authors:"no authors",description:t.volumeInfo.description?t.volumeInfo.description:"no description",ISBN:t.volumeInfo.industryIdentifiers?t.volumeInfo.industryIdentifiers[0].identifier:"no isbn",imageLink:t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:C.a,infoLink:t.volumeInfo.previewLink?t.volumeInfo.previewLink:"",rating:t.volumeInfo.averageRating?t.volumeInfo.averageRating:"Not rated"};D(a).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},handleDelete:function(e){O(e).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}},W=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=Object(u.a)(this,(e=Object(m.a)(n)).call.apply(e,[this].concat(o)))).state={searchedBooks:[],savedBooks:[],searchTitle:""},t.handleInputChange=function(e){var n=e.target,a=n.name,o=n.value;t.setState(Object(c.a)({},a,o))},t.handleSearchEvent=function(e){e.preventDefault(),R.handleSearchEvent(Object(d.a)(Object(d.a)(t)))},t.handleSaveEvent=function(e){R.handleSaveEvent(e,Object(d.a)(Object(d.a)(t)),function(){R.loadBooks(Object(d.a)(Object(d.a)(t)))})},t.handleDelete=function(e){R.handleDelete(e)},t}return Object(f.a)(n,e),Object(s.a)(n,[{key:"componentDidMount",value:function(){R.resetBooks(this)}},{key:"componentDidUpdate",value:function(){R.loadBooks(this)}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,null),o.a.createElement(k,null,o.a.createElement(p,null,o.a.createElement("form",{style:{display:"flex",flexDirection:"column"}},o.a.createElement(g,{name:"searchTitle",placeholder:"Title (required)",onChange:this.handleInputChange}),o.a.createElement(E,{onClick:this.handleSearchEvent},"Search"))),this.state.searchedBooks.map(function(n){return o.a.createElement(N,{key:n.id,bookId:n.id,title:n.volumeInfo.title?n.volumeInfo.title:"",authors:n.volumeInfo.authors?n.volumeInfo.authors:"No author(s) found",description:n.volumeInfo.description?n.volumeInfo.description:"",isbn:n.volumeInfo.industryIdentifiers?n.volumeInfo.industryIdentifiers[0].identifier:"no isbn",imageLink:n.volumeInfo.imageLinks?n.volumeInfo.imageLinks.thumbnail:C.a,infoLink:n.volumeInfo.previewLink?n.volumeInfo.previewLink:"",rating:n.volumeInfo.averageRating?n.volumeInfo.averageRating:0,handleSaveEvent:e.handleSaveEvent})})),o.a.createElement(w,null,this.state.savedBooks.map(function(n){return o.a.createElement(B,{key:n._id,bookId:n._id,title:n.title?n.title:"No title",authors:n.authors?n.authors:"No authors(s) found",description:n.description?n.description:"No description",isbn:n.isbn?n.isbn:"No isbn",imageLink:n.imageLink?n.imageLink:C.a,infoLink:n.infoLink?n.infoLink:"",rating:n.rating?n.rating:0,handleDelete:e.handleDelete})})),o.a.createElement(v,null))}}]),n}(a.Component);t(84);var A=function(e){return o.a.createElement("div",{className:"wrapper"},e.children)};t(85);var T=function(){return o.a.createElement("div",{className:"headerWrapper"},o.a.createElement("div",{className:"header"},o.a.createElement("h1",null,"MERN Book Search")))};t(86);var M=function(){return o.a.createElement("div",{className:"subWrapper"},o.a.createElement("div",{className:"sub"},o.a.createElement("h2",{className:"sub-header-left"},"Find Books"),o.a.createElement("h2",{className:"sub-header-right"},"Saved Books")))};t(87);var F=function(){return o.a.createElement("div",{className:"footerWrapper"},o.a.createElement("footer",{className:"footer"},o.a.createElement("span",{className:"icons"},o.a.createElement("a",{href:"https://www.github.com/froglegg"},o.a.createElement("i",{className:"fab fa-github fa-2x",id:"git-icon"})),"\xa0\xa0\xa0\xa0\xa0",o.a.createElement("a",{href:"https://www.linkedin.com/in/hayes-crowley/"},o.a.createElement("i",{className:"fab fa-linkedin-in fa-2x",id:"git-icon"}))),o.a.createElement("p",{className:"footerText"},"MERN Books by ",o.a.createElement("a",{href:"http://hayescrowley.com/"},"Hayes Crowley"))))};t(88);var q=function(){return o.a.createElement(A,null,o.a.createElement(T,null),o.a.createElement(M,null),o.a.createElement(W,null),o.a.createElement(F,null))},G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var U=t(47);t.n(U)()().on("hello",function(e){var n=e.message;return alert(n)}),i.a.render(o.a.createElement(q,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");G?function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):J(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):J(e)})}}()},4:function(e,n,t){e.exports=t.p+"static/media/noBookImage.3fe9c8a1.jpg"},50:function(e,n,t){e.exports=t(120)},55:function(e,n,t){},56:function(e,n,t){},57:function(e,n,t){},58:function(e,n,t){},59:function(e,n,t){},60:function(e,n,t){},66:function(e,n,t){},67:function(e,n,t){},84:function(e,n,t){},85:function(e,n,t){},86:function(e,n,t){},87:function(e,n,t){},88:function(e,n,t){}},[[50,1,2]]]);
//# sourceMappingURL=main.fe9adf66.chunk.js.map